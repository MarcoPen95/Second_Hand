<%= form_with model: current_buyer, url: announcement_url, method: :post, html: { id: "payment-form", class: "stripe-form" }, data: { stripe_key: announcement.user.publishable_key }  do |form| %>
  <div>
    <label for="card-element" class="label">
      Credit or debit card
    </label>

    <div id="card-element">
      <!-- A Stripe Element will be inserted here. -->
    </div>

    <!-- Used to display Element errors. -->
    <div id="card-errors" role="alert" class="text-sm text-red-400"></div>
  </div>

  <input type="hidden" name="announcement" value="<%= params[:announcement] %>">

  <button>Acquista <%= number_to_currency(params[:amount]) %> /mo toward <em><%= announcement.title %></em></button>
<% end %>

